<%- include('partials/header') %>
<div class="container">
  <div class="form-page">
    <div class="form-card">
      <h1>Criar conta</h1>
      <% if (typeof error === 'string' && error) { %>
        <p class="error"><%= error %></p>
        <% if (error.indexOf('Banco de dados') !== -1) { %>
          <p class="form-hint">Acesse <a href="/health-db">/health-db</a> para ver o status da conexão e a dica de configuração.</p>
        <% } %>
      <% } %>
      <form action="/cadastro" method="post" class="form" id="form-cadastro">
        <label for="name">Nome</label>
        <input id="name" type="text" name="name" required placeholder="Seu nome" autocomplete="name" maxlength="255" value="<%= typeof name === 'string' ? name.replace(/"/g, '&quot;') : '' %>">
        <label for="email">E-mail</label>
        <input id="email" type="email" name="email" required placeholder="seu@email.com" autocomplete="email" maxlength="255" value="<%= typeof email === 'string' ? email.replace(/"/g, '&quot;') : '' %>">
        <label for="password">Senha (mín. 6 caracteres)</label>
        <input id="password" type="password" name="password" required minlength="6" placeholder="••••••••" autocomplete="new-password">
        <label for="role">Quero atuar como</label>
        <select id="role" name="role">
          <option value="both" <%= (typeof role === 'string' && role === 'both') ? 'selected' : '' %>>Cliente e Freelancer</option>
          <option value="client" <%= (typeof role === 'string' && role === 'client') ? 'selected' : '' %>>Só Cliente</option>
          <option value="freelancer" <%= (typeof role === 'string' && role === 'freelancer') ? 'selected' : '' %>>Só Freelancer</option>
        </select>
        <button type="submit" class="btn btn-primary">Cadastrar</button>
      </form>
      <p class="form-footer">Já tem conta? <a href="/login">Entrar</a></p>
    </div>
  </div>
</div>
<%- include('partials/footer') %>
